<template>
    <div id="container">
      <div class="search-box">
        <search></search>
      </div>
        <div class="navbar-box">
          <select-tab :tabBar="tabBar" @switchTab="switchTab"></select-tab>
        </div>

        <swiper class="notes" >
          <swiper-item class="category">
              <scroll-view class="cate-box"  scroll-y>
                <notes-content :notes="notes" @checkDetail="checkDetail"></notes-content>
              </scroll-view>
          </swiper-item>
        </swiper>
    </div>
</template>

<script>
import search from '@/components/Search'
import selectTab from '@/components/SelectTab'
import content from '@/components/Content'
import axios from 'axios'

export default {
  components: {
        search,
        selectTab,
        'notesContent':content   
     },
    data(){
        return{
            tabBar:[
              {tabName:'æŽ¨è',isSelected:true,
              content:[
                  {
                    "id":'0001',
                    "notePic": "/static/images/search.png",
                    "title": "åˆæ˜¯ä¸€å¹´æ¯•ä¸šå­£",
                    "userPic": "/static/images/my.png",
                    "userName": "å•¦å•¦å•¦",
                  },
                  {
                    "id":'0002',
                    "notePic": "/static/images/search.png",
                    "title": "åˆæ˜¯ä¸€å¹´æ¯•ä¸šå­£2",
                    "userPic": "/static/images/my.png",
                    "userName": "å“ˆå“ˆå“ˆ"
                  }
                ]
              },
              {tabName:'è§†é¢‘',isSelected:false,
              content:[
                  {
                    "id":'0003',
                    "notePic": "https://ci.xiaohongshu.com/8533df7b-13c8-402e-b9af-454080293465@r_640w_640h.jpg",
                    "title": "ðŸ§¢Produce48ï½œå‰§æœ¬å¤ªæ˜Žæ˜¾ï¼Œå¿ƒç–¼ä¸­å›½å¦¹å­çŽ‹æ€¡äººã€çŽ‹ðŸ’ƒðŸ»ðŸ’ƒðŸ»ðŸ’ƒðŸ»ðŸ’ƒðŸ»ðŸ’ƒðŸ»ðŸ’ƒðŸ»ðŸ’ƒðŸ»ðŸ’ƒðŸ»ðŸ’ƒðŸ»ðŸ’ƒðŸ»",
                    "userPic": "/static/images/my.png",
                    "userName": "å•¦å•¦å•¦"
                  },
                  {
                    "id":'0004',
                    "notePic": "https://ci.xiaohongshu.com/8ea674e4-12e9-4240-841a-82705a0a5263@r_640w_640h.jpg",
                    "title": "åœ¨ä¸œäº¬çš„å§å¦¹ç©¿æ­ðŸ‘­",
                    "userPic": "/static/images/my.png",
                    "userName": "å“ˆå“ˆå“ˆ"
                  }
                ]
              },
              {tabName:'ä¸–ç•Œæ¯',isSelected:false},
              {tabName:'æŠ¤è‚¤',isSelected:false},
              {tabName:'å½©å¦†',isSelected:false},
              {tabName:'ç¾Žé£Ÿ',isSelected:false},
              {tabName:'æ—…è¡Œ',isSelected:false},
              {tabName:'å½±è§†',isSelected:false},
              {tabName:'è¯»ä¹¦',isSelected:false},
              {tabName:'æ˜Žæ˜Ÿ',isSelected:false},
              {tabName:'å®¶å±…',isSelected:false},
              {tabName:'éŸ³ä¹',isSelected:false},
              {tabName:'å® ç‰©',isSelected:false},
              {tabName:'å©šç¤¼',isSelected:false},
              {tabName:'æ¯å©´',isSelected:false},
              {tabName:'èŒå¨ƒ',isSelected:false},
              {tabName:'æ•°ç ',isSelected:false},
              {tabName:'ç”·å£«ç©¿æ­',isSelected:false}],
              notes:[]
        }
    },
    methods:{
      switchTab(index){
        for(let i in this.tabBar){
          this.tabBar[i].isSelected = parseInt(i) === index;
          if(this.tabBar[i].isSelected){
            this.notes = this.tabBar[i].content;
          }
        }
      },
      checkDetail(e){
        console.log(e);
      }
    },
    created() {
        this.switchTab(0);
        // axios.get('https://www.easy-mock.com/mock/5b38f1f28b3b752220ff649a/xiaohongshu/tabSwitch#!method=get')
        //     .then((res) => {
        //         // this.noteReadableStreamle;
        //         console.log(res)
        //     })
        //     .catch(function(error) {
        //         console.log(error);
        //     });
    }
}
</script>

<style scoped>
  #container{
    background: #f4f9fa;
    height: 100%;
  }
  .search-box{
    height: 97rpx;
    background: #fff;
    line-height: 97rpx;
  }
  .navbar-box{
    height: 80rpx;
    box-shadow: 0px 5px 5px -10px #f9f9f9 inset, 0px -5px 5px -10px #f9f9f9 inset;
    line-height: 80rpx;
  }
  .notes{
    height: 100%;
  }
</style>
